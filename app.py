import streamlit as st
import requests

st.set_page_config(page_title="Idea.bkz", layout="centered")

st.title("Idea.bkz")
st.subheader("–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏")
st.write("–ë–∏–æ–ª–æ–≥–∏—è, 7 –∫–ª–∞—Å—Å")

st.markdown("---")

st.header("üßë‚Äçüéì –î–∞–Ω–Ω—ã–µ —É—á–µ–Ω–∏–∫–∞")
name = st.text_input("–§–∞–º–∏–ª–∏—è –∏ –∏–º—è")
klass = st.text_input("–ö–ª–∞—Å—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: 7–ê)")

st.markdown("---")
st.header("üìù –¢–µ—Å—Ç: –¢–µ–º–∞ ¬´–í—ã–¥–µ–ª–µ–Ω–∏–µ¬ª")

q1 = st.radio("1. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ?", [
    "–ü—Ä–æ—Ü–µ—Å—Å –ø–∏—Ç–∞–Ω–∏—è",
    "–ü—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤",
    "–ü—Ä–æ—Ü–µ—Å—Å –¥—ã—Ö–∞–Ω–∏—è"
])

q2 = st.radio("2. –ì–ª–∞–≤–Ω—ã–π –æ—Ä–≥–∞–Ω –≤—ã–¥–µ–ª–µ–Ω–∏—è —É —á–µ–ª–æ–≤–µ–∫–∞:", [
    "–ü–µ—á–µ–Ω—å",
    "–ü–æ—á–∫–∏",
    "–õ—ë–≥–∫–∏–µ"
])

q3 = st.radio("3. –ö–∞–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ä–≥–∞–Ω–æ–≤ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã–¥–µ–ª–µ–Ω–∏–µ?", [
    "–ü–∏—â–µ–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è",
    "–í—ã–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è",
    "–ù–µ—Ä–≤–Ω–∞—è"
])

q4 = st.radio("4. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –ø–æ—á–∫–∏:", [
    "–ê–ª—å–≤–µ–æ–ª–∞",
    "–ù–µ—Ñ—Ä–æ–Ω",
    "–ö–∞–ø–∏–ª–ª—è—Ä"
])

q5 = st.radio("5. –ß—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–∑ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ —Å –º–æ—á–æ–π?", [
    "–ö–∏—Å–ª–æ—Ä–æ–¥",
    "–õ–∏—à–Ω—è—è –≤–æ–¥–∞ –∏ –≤—Ä–µ–¥–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞",
    "–ü–∏—Ç–∞—Ç–µ–ª—å–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞"
])

q6 = st.radio("6. –ö–∞–∫–∏–µ –æ—Ä–≥–∞–Ω—ã —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –≤—ã–¥–µ–ª–µ–Ω–∏–∏?", [
    "–°–µ—Ä–¥—Ü–µ –∏ —Å–æ—Å—É–¥—ã",
    "–õ—ë–≥–∫–∏–µ –∏ –∫–æ–∂–∞",
    "–ú–æ–∑–≥ –∏ –Ω–µ—Ä–≤—ã"
])

q7 = st.radio("7. –ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–æ—á–∏?", [
    "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è",
    "–ò—Å–ø–∞—Ä–µ–Ω–∏–µ",
    "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑"
])

q8 = st.radio("8. –ß–µ—Ä–µ–∑ –∫–∞–∫–æ–π –æ—Ä–≥–∞–Ω –≤—ã–≤–æ–¥–∏—Ç—Å—è —É–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑?", [
    "–ü–æ—á–∫–∏",
    "–õ—ë–≥–∫–∏–µ",
    "–ö–æ–∂–∞"
])

q9 = st.radio("9. –†–æ–ª—å –∫–æ–∂–∏ –≤ –≤—ã–¥–µ–ª–µ–Ω–∏–∏:", [
    "–ó–∞—â–∏—Ç–∞",
    "–í—ã–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ç–∞",
    "–î–≤–∏–∂–µ–Ω–∏–µ"
])

q10 = st.radio("10. –ü–æ—á–µ–º—É –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤–∞–∂–Ω–æ?", [
    "–î–ª—è —Ä–æ—Å—Ç–∞",
    "–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Ä–µ–¥–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤",
    "–î–ª—è –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏—è"
])

answers = [q1, q2, q3, q4, q5, q6, q7, q8, q9, q10]

correct = [
    "–ü—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ–Ω—É–∂–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤",
    "–ü–æ—á–∫–∏",
    "–í—ã–¥–µ–ª–∏—Ç–µ–ª—å–Ω–∞—è",
    "–ù–µ—Ñ—Ä–æ–Ω",
    "–õ–∏—à–Ω—è—è –≤–æ–¥–∞ –∏ –≤—Ä–µ–¥–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞",
    "–õ—ë–≥–∫–∏–µ –∏ –∫–æ–∂–∞",
    "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è",
    "–õ—ë–≥–∫–∏–µ",
    "–í—ã–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ç–∞",
    "–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Ä–µ–¥–Ω—ã—Ö –≤–µ—â–µ—Å—Ç–≤"
]

if st.button("üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã"):
    if name == "" or klass == "":
        st.error("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ –∫–ª–∞—Å—Å")
    else:
        score = 0
        for i in range(10):
            if answers[i] == correct[i]:
                score += 1

        st.success(f"–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω! –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {score} –∏–∑ 10")

        data = {
            "name": name,
            "klass": klass,
            "q1": q1,
            "q2": q2,
            "q3": q3,
            "q4": q4,
            "q5": q5,
            "q6": q6,
            "q7": q7,
            "q8": q8,
            "q9": q9,
            "q10": q10,
            "score": score
        }

        url = "https://script.google.com/macros/s/AKfycbxI233LLqpJV1AhaeYZsnihmsp3i_OyGGHZDUvGKzcz-Q7DRSL7zvlYDBRpdUmCaQes/exec"

        try:
            requests.post(url, json=data)
            st.info("–û—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É—á–∏—Ç–µ–ª—é")
        except:
            st.warning("–û—Ç–≤–µ—Ç—ã –ø–æ–∫–∞–∑–∞–Ω—ã, –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü—É")


